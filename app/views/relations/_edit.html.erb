<%= hidden_field :fonct , fonct %>
<%= javascript_include_tag "combo-box" %>
<h1><%= t(:legend_relation) %></h1>
<%= h_edit_type_object(f, object, @types) %>
<%= f.label t(:label_name) %>
<%= f.select( :name, Relation.names, {}, {:onkeypress=>"edit(event);", :onblur=>"this.editing=false;"}) %>
<br/>
<%= f.label t(:label_father_plmtype) %>
<%= f.select(
	:father_plmtype, @relation.datas[:types_plm], {},
	{
		:onchange => "#{remote_function(:url => {:controller => 'relations', :action => 'update_father'}, :with => "'father_plmtype='+value")}"
	}
	) %>
<br/>
<%= render(:partial => "relations/father_types") %>

<%= f.label t(:label_child_plmtype) %>
<%= f.select(
	:child_plmtype, @relation.datas[:types_plm], {},
	{
		:onchange => "#{remote_function(:url =>  {:controller => 'relations', :action => 'update_child'}, :with => "'child_plmtype='+value")}"
	}
	) %>
<br/>
<%= render(:partial => "relations/child_types") %>

<%= f.label t(:label_paste_way) %>
<%= f.select(:paste_way, Relation.get_paste_way) %>
<br/>
<%= f.label t(:label_cardin_occur_min) %>
<%= f.text_field :cardin_occur_min %>
<br/>
<%= f.label t(:label_cardin_occur_max) %>
<%= f.text_field :cardin_occur_max %>
<br/>
<%= f.label t(:label_cardin_use_min) %>
<%= f.text_field :cardin_use_min %>
<br/>
<%= f.label t(:label_cardin_use_max) %>
<%= f.text_field :cardin_use_max %>
<br/>
<%= f.label t(:label_views) %>
<%= select_inout(f, @relation, @views, :name) %>
<br/>
<%= h_input_domain(f) %>
<%= h_type_values(@relation, fonct) %>
